// SPDX-License-Identifier: GPL-3.0
pragma solidity >=0.4.26;

contract MyContract {

    uint256 secretNumber = 1357;

    struct Game {
      address player;
      uint256 number;
    }
    Game[] public gamesPlayed;

    function shuffle() internal {
      // randomly set secretNumber with a value between 1 and 20
      secretNumber = uint8(sha3(now, block.blockhash(block.number-1))) % 20 + 1;
    }

    function play(uint256 number) external {
      Game game;
      game.player = msg.sender;
      game.number = number;
      gamesPlayed.push(game);

      if (number == secretNumber) {
        // win!
        msg.sender.transfer(this.balance);
      }

      shuffle();
    }
}
